mailster=function(e,r,t,a){"use strict";r(".register_form_wrap").on("focus","input",function(){r(this).attr("data-placeholder",r(this).attr("placeholder"));r(this).attr("placeholder","")}).on("blur","input",function(){r(this).attr("placeholder",r(this).attr("data-placeholder"))}).on("click",".envato-signup",function(){s(this.href,600,900,"mailster_envato_signup");return false}).on("click",".howto-purchasecode",function(){e.dialog.open("registration-dialog");return false}).on("change",".tos",function(){r(this).val(Math.round((new Date).getTime()/1e3))}).on("submit",".register_form",function(){var t=r(this),a=t.parent(),s=a.find("input.register-form-purchasecode").val(),n=a.find("input.register-form-slug").val(),i;t.removeClass("has-error").prop("disabled",true);a.addClass("loading");e.util.ajax("register",{purchasecode:s,slug:n},function(r){t.prop("disabled",false);a.removeClass("loading");if(r.success){a.addClass("step-2").removeClass("step-1")}else{i=r.data.error;i+=' <a href="https://evp.to/error-'+r.data.code+'" target="_blank" rel="noopener">'+e.l10n.register.help+"</a>";t.addClass("has-error").find(".error-msg").html(i)}},function(r,s,n){t.prop("disabled",false);a.removeClass("loading");alert(e.l10n.register.error+"\n\n"+n)});return false}).on("submit",".register_form_2",function(){var t=r(this),a=t.parent(),s=a.find("input.register-form-purchasecode").val(),n=a.find("input.register-form-slug").val(),i;t.removeClass("has-error").prop("disabled",true);a.addClass("loading");e.util.ajax("register",{purchasecode:s,slug:n,data:t.serialize()},function(r){t.prop("disabled",false);a.removeClass("loading");if(r.success){a.addClass("step-3").removeClass("step-2");e.$.document.trigger("verified."+n,[r.data.purchasecode,r.data.username,r.data.email])}else{if(r.data.code==406||r.data.code==679||r.data.code==680){t=a.find(".register_form");t.parent().removeClass("step-2").addClass("step-1")}i=r.data.error;i+=' (<a href="https://evp.to/error-'+r.data.code+'" target="_blank" rel="noopener">'+e.l10n.register.help+"</a>)";t.addClass("has-error").find(".error-msg").html(i)}},function(r,s,n){t.prop("disabled",false);a.removeClass("loading");alert(e.l10n.register.error+"\n\n"+n)});return false}).removeClass("loading");function s(e,r,s,n){var i=t.screenLeft!=undefined?t.screenLeft:screen.left,o=t.screenTop!=undefined?t.screenTop:screen.top,l=t.innerWidth?t.innerWidth:a.documentElement.clientWidth?a.documentElement.clientWidth:screen.width,d=t.innerHeight?t.innerHeight:a.documentElement.clientHeight?a.documentElement.clientHeight:screen.height,c=l/2-r/2+i,u=d/2-s/2+o,f=t.open(e,n,"scrollbars=auto,resizable=1,menubar=0,toolbar=0,location=0,directories=0,status=0, width="+r+", height="+s+", top="+u+", left="+c);if(t.focus)f.focus()}t.verifyMailster=function(e,t,a,s){var n=r(".register_form_wrap-"+e);n.find("input.register-form-purchasecode").val(t);n.find("input.username").val(a);n.find("input.email").val(s);if(t){n.find(".register_form").parent().removeClass("step-1").addClass("step-2")}else{n.find(".register_form").submit()}};return e}(mailster||{},jQuery,window,document);